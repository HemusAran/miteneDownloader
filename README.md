# miteneDownloader
Download jpg/mp4 files from mitene

みてねにアップロードした画像と動画をまとめてダウンロードします。
注意：1度にまとめてダウンロードできるのは、1ページに表示されている 25 個の画像/動画です。
　　　複数ページのファイルをダウンロードするには、複数回の操作が必要です。



●使用方法

1)アプリケーションを起動する

2)ブラウザでみてねのブラウザ版のサイトにアクセスする
　ブラウザ版のサイトにアクセスするには、みてねアプリから招待する。
　「家族設定」->「家族一覧」->「家族を招待する」->「ブラウザ版で招待」

3)ダウンロードしたいページに移動する
  URLの末尾に以下のように追加することで任意のページを表示できる：
?page=13
  この例だと、13ページめが表示される。
　なお、「?page=1」とすれば、先頭のページ（最新）が表示される。

4)ブラウザ上で右クリックして「ページのソースを表示」を選択する（※）
　（※）Chromeの場合

5)表示されたソースの 3 行目をコピーして、mitene.js にペーストする

mitene.js は、パッケージの場合 resources/app フォルダにある。


なお、以下のように 2-4 行目をコピーしてもよい：

//<![CDATA[
window.gon={};（以下省略）
//]]>


6)アプリケーションの「reload」ボタンを押す
ブラウザ版で表示したページの動画と画像の一覧が表示される。

ファイル名は、「撮影日時_最初のコメント」（yyyy-mm-ddThhmmss_最初のコメント）となる。

Note：このようなファイル名にすることで、動画編集ソフトに配置すれば撮影日順にタイムラインに配置できる。

ファイル名の右に表示される数字は、ファイルをアップロードしたユーザーのID。
この ID を見ることで誰がアップロードしたファイルなのかがわかる。


7)「Download All」ボタンを押す
表示されているすべてのファイルがダウンロードされる。
ダウンロード先は、アプリ内の downloads フォルダ。


ほかのページのファイルをダウンロードするには、3-7 を繰り返す。





●開発環境構築方法

○Windows


1)Node.jsをインストールする

https://nodejs.org/

LTS版をインストールする。
インストーラーでは、すべて「Next」を選択する。

Node.js がインストールされたことを確認するには
コマンドプロンプトを起動して
node -v
と入力する。

v14.17.4
のようにバージョンが表示されればインストールされている。


2)yarnをインストールする

コマンドプロンプトから以下を実行する：
# npm install -g yarn

yarn がインストールされたことを確認するには、コマンドプロンプトから

# yarn --version
と入力する。

1.22.11
のようにバージョンが表示されればインストールされている。




●ビルド手順


○Windows

1)ソースコードのあるフォルダで以下を入力する：

# yarn install

これで必要なライブラリがダウンロードされる。


●実行手順

以下を実行すればアプリケーションが実行される：

# yarn run start



●パッケージの作成手順

# yarn run build:win




